exports.id=6909,exports.ids=[6909],exports.modules={15245:(a,b,c)=>{Promise.resolve().then(c.bind(c,49567))},16266:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},49567:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(61369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\pbl6_ql_htqt\\front-end\\src\\hooks\\useAuth.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\pbl6_ql_htqt\\front-end\\src\\hooks\\useAuth.tsx","useAuth")},55109:(a,b,c)=>{"use strict";c.d(b,{S:()=>g,g:()=>e});var d=c(63523);let e={ADMIN:"admin",USER:"user",STUDENT:"student",SPECIALIST:"specialist",MANAGER:"manager",VIEWER:"viewer",SYSTEM:"system"},f={[e.ADMIN]:["user:create","user:read","user:update","user:delete","user:assign_role","system:config","system:backup","system:logs","data:view_all","report:view","report:export","report:stats","notification:manage","visa:create","visa:read","visa:update","visa:delete","visa:review","visa:approve","visa:reject","visa:assign","visa:export","mou:create","mou:read","mou:update","mou:delete","mou:review","mou:approve","mou:sign","mou:terminate","mou:assign","mou:export","translation:create","translation:read","translation:update","translation:delete","translation:review","translation:approve","translation:certify","visitor:create","visitor:read","visitor:update","visitor:delete","visitor:approve","visitor:export"],[e.USER]:["data:view_department","visa:create","visa:read","visa:update","mou:create","mou:read","mou:update","translation:create","translation:read","translation:update","visitor:create","visitor:read","visitor:update"],[e.STUDENT]:["data:view_own","visa:create","visa:read","visa:update"],[e.SPECIALIST]:["data:view_all","visa:read","visa:review","visa:assign","mou:read","mou:review","mou:assign","translation:read","translation:review","translation:certify","visitor:read","visitor:update","report:view","report:export"],[e.MANAGER]:["data:view_all","visa:read","visa:approve","visa:reject","visa:export","mou:read","mou:approve","mou:sign","mou:terminate","mou:export","translation:read","translation:approve","visitor:read","visitor:approve","visitor:export","report:view","report:export","report:stats"],[e.VIEWER]:["data:view_public","visa:read","mou:read","translation:read","visitor:read","report:view"],[e.SYSTEM]:["notification:send","data:view_all","visa:read","mou:read"]},g=()=>{let a=d._.getUser(),b=b=>!!a?.role&&(f[a.role]||[]).includes(b),c=b=>{if(!a?.role)return!1;let c=f[a.role]||[];return b.some(a=>c.includes(a))};return{hasPermission:b,hasAnyPermission:c,hasAllPermissions:b=>{if(!a?.role)return!1;let c=f[a.role]||[];return b.every(a=>c.includes(a))},canAccessData:a=>{switch(a){case"own":return c(["data:view_own","data:view_department","data:view_all"]);case"department":return c(["data:view_department","data:view_all"]);case"all":return b("data:view_all");case"public":return c(["data:view_public","data:view_own","data:view_department","data:view_all"]);default:return!1}},canAccessModule:(a,c)=>b(`${a}:${c}`),getRoleDisplayName:a=>({[e.ADMIN]:"Admin CNTT",[e.USER]:"NgÆ°á»i d\xf9ng cÆ¡ sá»Ÿ",[e.STUDENT]:"Sinh vi\xean/Há»c vi\xean quá»‘c táº¿",[e.SPECIALIST]:"Chuy\xean vi\xean HTQT/KHCN&ÄN",[e.MANAGER]:"L\xe3nh Ä‘áº¡o Ph\xf2ng",[e.VIEWER]:"NgÆ°á»i d\xf9ng tra cá»©u",[e.SYSTEM]:"Há»‡ thá»‘ng"})[a]||a||"Kh\xf4ng x\xe1c Ä‘á»‹nh",can:{createUser:()=>b("user:create"),manageUsers:()=>b("user:read"),assignRoles:()=>b("user:assign_role"),configureSystem:()=>b("system:config"),viewSystemLogs:()=>b("system:logs"),createMOU:()=>b("mou:create"),viewMOU:()=>b("mou:read"),editMOU:()=>b("mou:update"),deleteMOU:()=>b("mou:delete"),reviewMOU:()=>b("mou:review"),approveMOU:()=>b("mou:approve"),signMOU:()=>b("mou:sign"),terminateMOU:()=>b("mou:terminate"),exportMOU:()=>b("mou:export"),createVisa:()=>b("visa:create"),viewVisa:()=>b("visa:read"),editVisa:()=>b("visa:update"),deleteVisa:()=>b("visa:delete"),reviewVisa:()=>b("visa:review"),approveVisa:()=>b("visa:approve"),rejectVisa:()=>b("visa:reject"),exportVisa:()=>b("visa:export"),createTranslation:()=>b("translation:create"),viewTranslation:()=>b("translation:read"),editTranslation:()=>b("translation:update"),deleteTranslation:()=>b("translation:delete"),reviewTranslation:()=>b("translation:review"),approveTranslation:()=>b("translation:approve"),certifyTranslation:()=>b("translation:certify"),createVisitor:()=>b("visitor:create"),viewVisitor:()=>b("visitor:read"),editVisitor:()=>b("visitor:update"),deleteVisitor:()=>b("visitor:delete"),approveVisitor:()=>b("visitor:approve"),exportVisitor:()=>b("visitor:export"),viewReports:()=>b("report:view"),exportReports:()=>b("report:export"),viewStatistics:()=>b("report:stats")},userRole:a?.role,isAdmin:a?.role===e.ADMIN,isUser:a?.role===e.USER,isStudent:a?.role===e.STUDENT,isSpecialist:a?.role===e.SPECIALIST,isManager:a?.role===e.MANAGER,isViewer:a?.role===e.VIEWER,isSystem:a?.role===e.SYSTEM}}},61135:()=>{},62185:(a,b,c)=>{"use strict";c.d(b,{KB:()=>j,PE:()=>k,Sn:()=>g,ZQ:()=>i,vQ:()=>l});var d=c(51060);let e="http://localhost:3001/api/v1",f=d.A.create({baseURL:e,timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!0});f.interceptors.request.use(a=>{let b=localStorage.getItem("token");return b&&(a.headers.Authorization=`Bearer ${b}`),console.log(`ğŸš€ API Request: ${a.method?.toUpperCase()} ${a.url}`),a},a=>(console.error("âŒ Request Error:",a),Promise.reject(a))),f.interceptors.response.use(a=>(console.log(`âœ… API Response: ${a.config.method?.toUpperCase()} ${a.config.url} - ${a.status}`),a),a=>(console.error("âŒ Response Error:",a),a.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(a)));let g={auth:{login:"/auth/login",logout:"/auth/logout",profile:"/auth/profile",refresh:"/auth/refresh"},admin:{users:"/admin/users",roles:"/admin/roles",systemLogs:"/admin/system-logs",statistics:"/admin/statistics"},mou:{base:"/mou",export:"/reports/mou/excel"},visa:{base:"/visa",export:"/reports/visa/excel"},visitor:{base:"/visitor",export:"/reports/visitor/excel"},translation:{base:"/translation",export:"/reports/translation/excel"},reports:{dashboard:"/reports/dashboard",export:"/reports/export"}},h={get:async(a,b)=>(await f.get(a,b)).data,post:async(a,b,c)=>(await f.post(a,b,c)).data},i={login:async a=>h.post(g.auth.login,a),logout:async()=>h.post(g.auth.logout),getProfile:async()=>h.get(g.auth.profile),refreshToken:async()=>h.post(g.auth.refresh)},j=(a,b)=>{let c=new URL(a,e);return b&&Object.entries(b).forEach(([a,b])=>{c.searchParams.append(a,String(b))}),c.toString()},k=async(a,b)=>{let c=localStorage.getItem("token"),d=await fetch(j(a),{headers:{Authorization:`Bearer ${c}`}});if(d.ok){let a=await d.blob(),c=window.URL.createObjectURL(a),e=document.createElement("a");e.href=c,e.download=b,document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(c),document.body.removeChild(e)}else throw Error("Download failed")},l={name:"Há»‡ thá»‘ng Quáº£n l\xfd Há»£p t\xe1c Quá»‘c táº¿",universityName:"TrÆ°á»ng Äáº¡i há»c B\xe1ch Khoa Ä\xe0 Náºµng",version:"1.0.0",pagination:{defaultPageSize:10,maxPageSize:100}}},62509:(a,b,c)=>{Promise.resolve().then(c.bind(c,92260))},63523:(a,b,c)=>{"use strict";c.d(b,{_:()=>e});var d=c(62185);let e={login:async a=>{try{console.log("\uD83D\uDD11 Attempting login...",{email:a.email});let b=await d.ZQ.login(a);if(b.access_token&&b.user)return e.setToken(b.access_token),e.setUser(b.user),console.log("âœ… Login successful"),{success:!0,data:b,message:"Login successful"};return console.log("âŒ Login failed: Invalid response format"),{success:!1,message:"Invalid response from server"}}catch(a){return console.error("âŒ Login error:",a),{success:!1,message:a.response?.data?.message||a.message||"Login failed",errors:a.response?.data?.errors||[a.message]}}},setToken:a=>{},getToken:()=>null,removeToken:()=>{},setUser:a=>{},getUser:()=>null,removeUser:()=>{},isAuthenticated:()=>!1,requireAuth:()=>({isLoading:!1,user:null}),hasRole:(a,b)=>b===a||"admin"===b,hasPermission:(a,b)=>"admin"===b,mockLogin:a=>{let b="mock_token_"+Date.now();e.setToken(b),e.setUser({id:1,username:"demo_user",email:"demo@example.com",role:a,name:"Demo User"})},logout:()=>{e.removeToken(),e.removeUser()}}},92260:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>j,A:()=>k});var d=c(60687),e=c(43210),f=c(16189),g=c(15659);let h=c(51060).A.create({baseURL:"http://localhost:3001/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}});h.interceptors.request.use(a=>{let b=localStorage.getItem("token");return b&&(a.headers.Authorization=`Bearer ${b}`),a},a=>Promise.reject(a)),h.interceptors.response.use(a=>a,a=>(a.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(a)));let i=(0,e.createContext)(void 0);function j({children:a}){let[b,c]=(0,e.useState)(null),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(!0);(0,f.useRouter)();let n=async(a,b)=>{try{let{access_token:d,user:e}=(await h.post("/auth/login",{email:a,password:b})).data;k(d),c(e),g.A.set("auth-token",d,{expires:7}),h.defaults.headers.common.Authorization=`Bearer ${d}`}catch(a){throw a}},o=async()=>{if(j)try{let a=await h.get("/users/profile");c(a.data)}catch(a){console.error("Failed to refresh user:",a)}};return(0,d.jsx)(i.Provider,{value:{user:b,token:j,isLoading:l,login:n,logout:()=>{c(null),k(null),g.A.remove("auth-token"),delete h.defaults.headers.common.Authorization},refreshUser:o},children:a})}function k(){let a=(0,e.useContext)(i);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},94431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(37413),e=c(85041),f=c.n(e);c(61135);var g=c(49567);let h={title:"HTQT - Há»‡ thá»‘ng Quáº£n l\xfd Há»£p t\xe1c Quá»‘c táº¿ | TrÆ°á»ng ÄH B\xe1ch Khoa Ä\xe0 Náºµng",description:"Há»‡ thá»‘ng quáº£n l\xfd há»£p t\xe1c quá»‘c táº¿, visa, MOU, dá»‹ch thuáº­t v\xe0 kh\xe1ch thÄƒm - TrÆ°á»ng Äáº¡i há»c B\xe1ch Khoa Ä\xe0 Náºµng"};function i({children:a}){return(0,d.jsx)("html",{lang:"vi",children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(g.AuthProvider,{children:a})})})}},98114:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))}};