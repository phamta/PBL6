{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/lib/api-client.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\n// Create axios instance with default config\r\nconst apiClient = axios.create({\r\n  baseURL: 'http://localhost:3001/api/v1',\r\n  timeout: 10000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n})\r\n\r\n// Add request interceptor to include auth token\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Add response interceptor to handle errors\r\napiClient.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Token expired or invalid\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('user')\r\n      window.location.href = '/login'\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Auth API\r\nexport const authAPI = {\r\n  login: async (email: string, password: string) => {\r\n    const response = await apiClient.post('/auth/login', {\r\n      email,\r\n      password,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  loginByUsername: async (username: string, password: string) => {\r\n    const response = await apiClient.post('/auth/login', {\r\n      username,\r\n      password,\r\n    })\r\n    return response.data\r\n  },\r\n  \r\n  logout: async () => {\r\n    const response = await apiClient.post('/auth/logout')\r\n    return response.data\r\n  },\r\n  \r\n  getProfile: async () => {\r\n    const response = await apiClient.get('/auth/profile')\r\n    return response.data\r\n  },\r\n  \r\n  refreshToken: async () => {\r\n    const response = await apiClient.post('/auth/refresh')\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Users API\r\nexport const usersAPI = {\r\n  getUsers: async () => {\r\n    const response = await apiClient.get('/users')\r\n    return response.data\r\n  },\r\n  \r\n  getUser: async (id: string) => {\r\n    const response = await apiClient.get(`/users/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  createUser: async (userData: any) => {\r\n    const response = await apiClient.post('/users', userData)\r\n    return response.data\r\n  },\r\n  \r\n  updateUser: async (id: string, userData: any) => {\r\n    const response = await apiClient.put(`/users/${id}`, userData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteUser: async (id: string) => {\r\n    const response = await apiClient.delete(`/users/${id}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Visitors API\r\nexport const visitorsAPI = {\r\n  getVisitors: async () => {\r\n    const response = await apiClient.get('/visitors')\r\n    return response.data\r\n  },\r\n  \r\n  getVisitor: async (id: string) => {\r\n    const response = await apiClient.get(`/visitors/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  createVisitor: async (visitorData: any) => {\r\n    const response = await apiClient.post('/visitors', visitorData)\r\n    return response.data\r\n  },\r\n  \r\n  updateVisitor: async (id: string, visitorData: any) => {\r\n    const response = await apiClient.put(`/visitors/${id}`, visitorData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteVisitor: async (id: string) => {\r\n    const response = await apiClient.delete(`/visitors/${id}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\n// Translation Requests API\r\nexport const translationAPI = {\r\n  getTranslationRequests: async () => {\r\n    const response = await apiClient.get('/translation-requests')\r\n    return response.data\r\n  },\r\n  \r\n  getTranslationRequest: async (id: string) => {\r\n    const response = await apiClient.get(`/translation-requests/${id}`)\r\n    return response.data\r\n  },\r\n  \r\n  createTranslationRequest: async (requestData: any) => {\r\n    const response = await apiClient.post('/translation-requests', requestData)\r\n    return response.data\r\n  },\r\n  \r\n  updateTranslationRequest: async (id: string, requestData: any) => {\r\n    const response = await apiClient.put(`/translation-requests/${id}`, requestData)\r\n    return response.data\r\n  },\r\n  \r\n  deleteTranslationRequest: async (id: string) => {\r\n    const response = await apiClient.delete(`/translation-requests/${id}`)\r\n    return response.data\r\n  },\r\n}\r\n\r\nexport default apiClient"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/lib/admin-api.ts"],"sourcesContent":["import apiClient from './api-client';\r\n\r\nexport interface User {\r\n  id: string;\r\n  username: string;\r\n  email: string;\r\n  fullName: string;\r\n  phone?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  roles: Role[];\r\n}\r\n\r\nexport interface Role {\r\n  id: string;\r\n  roleName: string;\r\n}\r\n\r\nexport interface CreateUserRequest {\r\n  username: string;\r\n  email: string;\r\n  password: string;\r\n  fullName: string;\r\n  phone?: string;\r\n  roleId?: string;\r\n}\r\n\r\nexport interface UpdateUserRequest {\r\n  username?: string;\r\n  email?: string;\r\n  fullName?: string;\r\n  phone?: string;\r\n}\r\n\r\nexport interface SystemConfig {\r\n  id: string;\r\n  smtpHost?: string;\r\n  smtpPort?: number;\r\n  smtpUser?: string;\r\n  smtpPassword?: string;\r\n  smtpSecure: boolean;\r\n  reminderEnabled: boolean;\r\n  reminderT30: number;\r\n  reminderT7: number;\r\n  reminderT1: number;\r\n}\r\n\r\nexport interface SystemStats {\r\n  totalUsers: number;\r\n  totalVisas: number;\r\n  totalMous: number;\r\n  totalTranslations: number;\r\n  activeUsers: number;\r\n  recentActivity: ActivityLog[];\r\n}\r\n\r\nexport interface ActivityLog {\r\n  id: string;\r\n  userId?: string;\r\n  action: string;\r\n  description?: string;\r\n  ipAddress?: string;\r\n  userAgent?: string;\r\n  requestData?: string;\r\n  createdAt: string;\r\n  user?: {\r\n    username: string;\r\n    fullName: string;\r\n  };\r\n}\r\n\r\nexport interface PaginatedResponse<T> {\r\n  users?: T[];\r\n  logs?: T[];\r\n  total: number;\r\n  totalPages: number;\r\n}\r\n\r\nclass AdminApiClient {\r\n  // User Management APIs\r\n  async getUsers(page: number = 1, limit: number = 10): Promise<PaginatedResponse<User>> {\r\n    const response = await apiClient.get(`/admin/users?page=${page}&limit=${limit}`);\r\n    return response.data;\r\n  }\r\n\r\n  async getUserById(id: string): Promise<User> {\r\n    const response = await apiClient.get(`/admin/users/${id}`);\r\n    return response.data;\r\n  }\r\n\r\n  async createUser(data: CreateUserRequest): Promise<User> {\r\n    const response = await apiClient.post('/admin/users', data);\r\n    return response.data;\r\n  }\r\n\r\n  async updateUser(id: string, data: UpdateUserRequest): Promise<User> {\r\n    const response = await apiClient.put(`/admin/users/${id}`, data);\r\n    return response.data;\r\n  }\r\n\r\n  async deleteUser(id: string): Promise<void> {\r\n    await apiClient.delete(`/admin/users/${id}`);\r\n  }\r\n\r\n  async resetPassword(id: string, newPassword: string): Promise<void> {\r\n    await apiClient.patch(`/admin/users/${id}/reset-password`, { newPassword });\r\n  }\r\n\r\n  async assignRole(userId: string, roleId: string): Promise<User> {\r\n    const response = await apiClient.post(`/admin/users/${userId}/roles`, { roleId });\r\n    return response.data;\r\n  }\r\n\r\n  async removeRole(userId: string, roleId: string): Promise<User> {\r\n    const response = await apiClient.delete(`/admin/users/${userId}/roles/${roleId}`);\r\n    return response.data;\r\n  }\r\n\r\n  // Role Management APIs\r\n  async getRoles(): Promise<Role[]> {\r\n    const response = await apiClient.get('/admin/roles');\r\n    return response.data;\r\n  }\r\n\r\n  // System Configuration APIs\r\n  async getSystemConfig(): Promise<SystemConfig> {\r\n    const response = await apiClient.get('/admin/config');\r\n    return response.data;\r\n  }\r\n\r\n  async updateSystemConfig(data: Partial<SystemConfig>): Promise<SystemConfig> {\r\n    const response = await apiClient.put('/admin/config', data);\r\n    return response.data;\r\n  }\r\n\r\n  async getSystemStats(): Promise<SystemStats> {\r\n    const response = await apiClient.get('/admin/stats');\r\n    return response.data;\r\n  }\r\n\r\n  // Backup & Restore APIs\r\n  async createBackup(description?: string): Promise<{ filePath: string; message: string }> {\r\n    const response = await apiClient.post('/admin/backup', { description });\r\n    return response.data;\r\n  }\r\n\r\n  async getBackups(): Promise<string[]> {\r\n    const response = await apiClient.get('/admin/backups');\r\n    return response.data;\r\n  }\r\n\r\n  async restoreBackup(file: File): Promise<{ message: string }> {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    const response = await apiClient.post('/admin/restore', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n    return response.data;\r\n  }\r\n\r\n  // Activity Logs APIs\r\n  async getLogs(\r\n    page: number = 1,\r\n    limit: number = 50,\r\n    userId?: string,\r\n    action?: string\r\n  ): Promise<PaginatedResponse<ActivityLog>> {\r\n    let url = `/admin/logs?page=${page}&limit=${limit}`;\r\n    if (userId) url += `&userId=${userId}`;\r\n    if (action) url += `&action=${action}`;\r\n    \r\n    const response = await apiClient.get(url);\r\n    return response.data;\r\n  }\r\n}\r\n\r\nexport const adminApi = new AdminApiClient();\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/app/dashboard/admin/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { \r\n  Users, \r\n  FileText, \r\n  Globe, \r\n  Activity,\r\n  TrendingUp,\r\n  Database,\r\n  Settings,\r\n  Shield,\r\n  BookOpen,\r\n  MessageSquare,\r\n  BarChart3\r\n} from 'lucide-react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport Link from 'next/link';\r\nimport { adminApi, SystemStats, ActivityLog } from '@/lib/admin-api';\r\nimport { toast } from 'sonner';\r\n\r\nexport default function AdminDashboard() {\r\n  const [stats, setStats] = useState<SystemStats | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadStats();\r\n  }, []);\r\n\r\n  const loadStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const statsData = await adminApi.getSystemStats();\r\n      setStats(statsData);\r\n    } catch (error) {\r\n      toast.error('Không thể tải thống kê hệ thống');\r\n      console.error('Load stats error:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleString('vi-VN');\r\n  };\r\n\r\n  const getActionBadgeColor = (action: string) => {\r\n    switch (action) {\r\n      case 'CREATE_USER': return 'bg-green-100 text-green-800';\r\n      case 'UPDATE_USER': return 'bg-blue-100 text-blue-800';\r\n      case 'DELETE_USER': return 'bg-red-100 text-red-800';\r\n      case 'RESET_PASSWORD': return 'bg-orange-100 text-orange-800';\r\n      case 'ASSIGN_ROLE': case 'REMOVE_ROLE': return 'bg-purple-100 text-purple-800';\r\n      case 'UPDATE_CONFIG': return 'bg-gray-100 text-gray-800';\r\n      case 'CREATE_BACKUP': case 'RESTORE_BACKUP': return 'bg-indigo-100 text-indigo-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold tracking-tight\">Dashboard Admin</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Tổng quan hệ thống và quản lý toàn diện\r\n          </p>\r\n        </div>\r\n        <Button onClick={loadStats} disabled={loading}>\r\n          {loading ? 'Đang tải...' : 'Làm mới'}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Tổng số người dùng</CardTitle>\r\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{stats?.totalUsers || 0}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {stats?.activeUsers || 0} hoạt động trong 30 ngày qua\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Đơn xin visa</CardTitle>\r\n            <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{stats?.totalVisas || 0}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Tổng số đơn đã được xử lý\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Bản ghi nhớ MOU</CardTitle>\r\n            <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{stats?.totalMous || 0}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Tổng số MOU đã ký kết\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Yêu cầu dịch thuật</CardTitle>\r\n            <Activity className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{stats?.totalTranslations || 0}</div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Tổng số yêu cầu dịch thuật\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Management Sections */}\r\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n        {/* User Management */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center\">\r\n              <Users className=\"mr-2 h-5 w-5\" />\r\n              Quản lý người dùng\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Link href=\"/dashboard/admin/users\">\r\n              <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                <Users className=\"mr-2 h-4 w-4\" />\r\n                Danh sách người dùng\r\n              </Button>\r\n            </Link>\r\n            <Button variant=\"outline\" className=\"w-full justify-start\" disabled>\r\n              <Shield className=\"mr-2 h-4 w-4\" />\r\n              Phân quyền hệ thống\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* System Management */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center\">\r\n              <Settings className=\"mr-2 h-5 w-5\" />\r\n              Cấu hình hệ thống\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Link href=\"/dashboard/admin/system\">\r\n              <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                <Settings className=\"mr-2 h-4 w-4\" />\r\n                Cài đặt chung\r\n              </Button>\r\n            </Link>\r\n            <Link href=\"/dashboard/admin/system#backup\">\r\n              <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                <Database className=\"mr-2 h-4 w-4\" />\r\n                Backup & Restore\r\n              </Button>\r\n            </Link>\r\n            <Link href=\"/dashboard/admin/system#logs\">\r\n              <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                <Activity className=\"mr-2 h-4 w-4\" />\r\n                Nhật ký hệ thống\r\n              </Button>\r\n            </Link>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Analytics & Reports */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center\">\r\n              <BarChart3 className=\"mr-2 h-5 w-5\" />\r\n              Báo cáo & Thống kê\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Button variant=\"outline\" className=\"w-full justify-start\" disabled>\r\n              <BarChart3 className=\"mr-2 h-4 w-4\" />\r\n              Dashboard Analytics\r\n            </Button>\r\n            <Button variant=\"outline\" className=\"w-full justify-start\" disabled>\r\n              <FileText className=\"mr-2 h-4 w-4\" />\r\n              Báo cáo tổng hợp\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Quick Access to Modules */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center\">\r\n              <FileText className=\"mr-2 h-5 w-5\" />\r\n              Quản lý Visa\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Link href=\"/dashboard/visa\">\r\n              <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                <FileText className=\"mr-2 h-4 w-4\" />\r\n                Tất cả đơn Visa\r\n              </Button>\r\n            </Link>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center\">\r\n              <BookOpen className=\"mr-2 h-5 w-5\" />\r\n              Quản lý MOU\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Link href=\"/dashboard/mou\">\r\n              <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                <BookOpen className=\"mr-2 h-4 w-4\" />\r\n                Tất cả MOU\r\n              </Button>\r\n            </Link>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center\">\r\n              <MessageSquare className=\"mr-2 h-5 w-5\" />\r\n              Quản lý Dịch thuật\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <Link href=\"/dashboard/translation-requests\">\r\n              <Button variant=\"outline\" className=\"w-full justify-start\">\r\n                <MessageSquare className=\"mr-2 h-4 w-4\" />\r\n                Tất cả yêu cầu\r\n              </Button>\r\n            </Link>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Recent Activity */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Activity className=\"h-5 w-5\" />\r\n            Hoạt động gần đây\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {stats?.recentActivity && stats.recentActivity.length > 0 ? (\r\n            <div className=\"space-y-4\">\r\n              {stats.recentActivity.map((log: ActivityLog) => (\r\n                <div key={log.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Badge className={getActionBadgeColor(log.action)}>\r\n                      {log.action}\r\n                    </Badge>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium\">\r\n                        {log.user?.fullName || 'Hệ thống'} - {log.description}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        {formatDate(log.createdAt)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <div className=\"text-center pt-2\">\r\n                <Link href=\"/dashboard/admin/system#logs\">\r\n                  <Button variant=\"outline\" size=\"sm\">\r\n                    Xem tất cả nhật ký\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-gray-500\">\r\n              Chưa có hoạt động nào gần đây\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}