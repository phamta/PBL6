{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,6JAAA,CAAA,aAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/lib/auth.ts"],"sourcesContent":["export const authHelpers = {\r\n  // Token management\r\n  setToken: (token: string) => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('token', token)\r\n      // Also set as cookie for middleware\r\n      document.cookie = `token=${token}; path=/; max-age=86400` // 24 hours\r\n    }\r\n  },\r\n  \r\n  getToken: () => {\r\n    if (typeof window !== 'undefined') {\r\n      return localStorage.getItem('token')\r\n    }\r\n    return null\r\n  },\r\n  \r\n  removeToken: () => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.removeItem('token')\r\n      // Remove cookie\r\n      document.cookie = 'token=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT'\r\n    }\r\n  },\r\n  \r\n  // User management\r\n  setUser: (user: any) => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('user', JSON.stringify(user))\r\n      // Also set as cookie for middleware\r\n      document.cookie = `user=${encodeURIComponent(JSON.stringify(user))}; path=/; max-age=86400` // 24 hours\r\n    }\r\n  },\r\n  \r\n  getUser: () => {\r\n    if (typeof window !== 'undefined') {\r\n      const userStr = localStorage.getItem('user')\r\n      return userStr ? JSON.parse(userStr) : null\r\n    }\r\n    return null\r\n  },\r\n  \r\n  removeUser: () => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.removeItem('user')\r\n      // Remove cookie\r\n      document.cookie = 'user=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT'\r\n    }\r\n  },\r\n  \r\n  // Authentication checks\r\n  isAuthenticated: () => {\r\n    // Check if user is authenticated by looking for token in localStorage\r\n    if (typeof window !== 'undefined') {\r\n      return !!localStorage.getItem('token')\r\n    }\r\n    return false\r\n  },\r\n  \r\n  requireAuth: () => {\r\n    return { isLoading: false, user: null }\r\n  },\r\n  \r\n  // Role and permission checks\r\n  hasRole: (requiredRole: string, userRole?: string) => {\r\n    return userRole === requiredRole || userRole === 'admin'\r\n  },\r\n  \r\n  hasPermission: (permission: string, userRole?: string) => {\r\n    // Simple permission check - admin has all permissions\r\n    return userRole === 'admin'\r\n  },\r\n  \r\n  // Mock login for demo (keeping this for backward compatibility)\r\n  mockLogin: (role: string) => {\r\n    const mockUser = {\r\n      id: 1,\r\n      username: 'demo_user',\r\n      email: 'demo@example.com',\r\n      role: role,\r\n      name: 'Demo User'\r\n    }\r\n    const mockToken = 'mock_token_' + Date.now()\r\n    \r\n    authHelpers.setToken(mockToken)\r\n    authHelpers.setUser(mockUser)\r\n  },\r\n  \r\n  // Logout\r\n  logout: () => {\r\n    authHelpers.removeToken()\r\n    authHelpers.removeUser()\r\n    if (typeof window !== 'undefined') {\r\n      window.location.href = '/login'\r\n    }\r\n  }\r\n}\r\n\r\nexport default authHelpers\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,cAAc;IACzB,mBAAmB;IACnB,UAAU,CAAC;QACT,wCAAmC;YACjC,aAAa,OAAO,CAAC,SAAS;YAC9B,oCAAoC;YACpC,SAAS,MAAM,GAAG,AAAC,SAAc,OAAN,OAAM,4BAAyB,WAAW;QACvE;IACF;IAEA,UAAU;QACR,wCAAmC;YACjC,OAAO,aAAa,OAAO,CAAC;QAC9B;;;IAEF;IAEA,aAAa;QACX,wCAAmC;YACjC,aAAa,UAAU,CAAC;YACxB,gBAAgB;YAChB,SAAS,MAAM,GAAG;QACpB;IACF;IAEA,kBAAkB;IAClB,SAAS,CAAC;QACR,wCAAmC;YACjC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C,oCAAoC;YACpC,SAAS,MAAM,GAAG,AAAC,QAAgD,OAAzC,mBAAmB,KAAK,SAAS,CAAC,QAAO,4BAAyB,WAAW;QACzG;IACF;IAEA,SAAS;QACP,wCAAmC;YACjC,MAAM,UAAU,aAAa,OAAO,CAAC;YACrC,OAAO,UAAU,KAAK,KAAK,CAAC,WAAW;QACzC;;;IAEF;IAEA,YAAY;QACV,wCAAmC;YACjC,aAAa,UAAU,CAAC;YACxB,gBAAgB;YAChB,SAAS,MAAM,GAAG;QACpB;IACF;IAEA,wBAAwB;IACxB,iBAAiB;QACf,sEAAsE;QACtE,wCAAmC;YACjC,OAAO,CAAC,CAAC,aAAa,OAAO,CAAC;QAChC;;;IAEF;IAEA,aAAa;QACX,OAAO;YAAE,WAAW;YAAO,MAAM;QAAK;IACxC;IAEA,6BAA6B;IAC7B,SAAS,CAAC,cAAsB;QAC9B,OAAO,aAAa,gBAAgB,aAAa;IACnD;IAEA,eAAe,CAAC,YAAoB;QAClC,sDAAsD;QACtD,OAAO,aAAa;IACtB;IAEA,gEAAgE;IAChE,WAAW,CAAC;QACV,MAAM,WAAW;YACf,IAAI;YACJ,UAAU;YACV,OAAO;YACP,MAAM;YACN,MAAM;QACR;QACA,MAAM,YAAY,gBAAgB,KAAK,GAAG;QAE1C,YAAY,QAAQ,CAAC;QACrB,YAAY,OAAO,CAAC;IACtB;IAEA,SAAS;IACT,QAAQ;QACN,YAAY,WAAW;QACvB,YAAY,UAAU;QACtB,wCAAmC;YACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/hooks/usePermissions.ts"],"sourcesContent":["import { authHelpers } from '@/lib/auth';\r\n\r\n// Frontend role constants matching backend\r\nexport const UserRole = {\r\n  ADMIN: 'admin',\r\n  USER: 'user', \r\n  STUDENT: 'student',\r\n  SPECIALIST: 'specialist',\r\n  MANAGER: 'manager',\r\n  VIEWER: 'viewer',\r\n  SYSTEM: 'system',\r\n} as const;\r\n\r\nexport type UserRoleType = typeof UserRole[keyof typeof UserRole];\r\n\r\n// Permission interface\r\nexport interface Permission {\r\n  // User Management\r\n  USER_CREATE: 'user:create';\r\n  USER_READ: 'user:read';\r\n  USER_UPDATE: 'user:update';\r\n  USER_DELETE: 'user:delete';\r\n  USER_ASSIGN_ROLE: 'user:assign_role';\r\n\r\n  // System Configuration\r\n  SYSTEM_CONFIG: 'system:config';\r\n  SYSTEM_BACKUP: 'system:backup';\r\n  SYSTEM_LOGS: 'system:logs';\r\n\r\n  // Visa Management\r\n  VISA_CREATE: 'visa:create';\r\n  VISA_READ: 'visa:read';\r\n  VISA_UPDATE: 'visa:update';\r\n  VISA_DELETE: 'visa:delete';\r\n  VISA_REVIEW: 'visa:review';\r\n  VISA_APPROVE: 'visa:approve';\r\n  VISA_REJECT: 'visa:reject';\r\n  VISA_ASSIGN: 'visa:assign';\r\n  VISA_EXPORT: 'visa:export';\r\n\r\n  // MOU Management\r\n  MOU_CREATE: 'mou:create';\r\n  MOU_READ: 'mou:read';\r\n  MOU_UPDATE: 'mou:update';\r\n  MOU_DELETE: 'mou:delete';\r\n  MOU_REVIEW: 'mou:review';\r\n  MOU_APPROVE: 'mou:approve';\r\n  MOU_SIGN: 'mou:sign';\r\n  MOU_TERMINATE: 'mou:terminate';\r\n  MOU_ASSIGN: 'mou:assign';\r\n  MOU_EXPORT: 'mou:export';\r\n\r\n  // Translation Management\r\n  TRANSLATION_CREATE: 'translation:create';\r\n  TRANSLATION_READ: 'translation:read';\r\n  TRANSLATION_UPDATE: 'translation:update';\r\n  TRANSLATION_DELETE: 'translation:delete';\r\n  TRANSLATION_REVIEW: 'translation:review';\r\n  TRANSLATION_APPROVE: 'translation:approve';\r\n  TRANSLATION_CERTIFY: 'translation:certify';\r\n\r\n  // Visitor Management\r\n  VISITOR_CREATE: 'visitor:create';\r\n  VISITOR_READ: 'visitor:read';\r\n  VISITOR_UPDATE: 'visitor:update';\r\n  VISITOR_DELETE: 'visitor:delete';\r\n  VISITOR_APPROVE: 'visitor:approve';\r\n  VISITOR_EXPORT: 'visitor:export';\r\n\r\n  // Reports\r\n  REPORT_VIEW: 'report:view';\r\n  REPORT_EXPORT: 'report:export';\r\n  REPORT_STATS: 'report:stats';\r\n\r\n  // Notifications\r\n  NOTIFICATION_SEND: 'notification:send';\r\n  NOTIFICATION_MANAGE: 'notification:manage';\r\n\r\n  // Data Access\r\n  DATA_VIEW_ALL: 'data:view_all';\r\n  DATA_VIEW_DEPARTMENT: 'data:view_department';\r\n  DATA_VIEW_OWN: 'data:view_own';\r\n  DATA_VIEW_PUBLIC: 'data:view_public';\r\n}\r\n\r\n// Role-Permission Mapping (matching backend)\r\nconst ROLE_PERMISSIONS: Record<UserRoleType, string[]> = {\r\n  [UserRole.ADMIN]: [\r\n    // Full system access\r\n    'user:create', 'user:read', 'user:update', 'user:delete', 'user:assign_role',\r\n    'system:config', 'system:backup', 'system:logs',\r\n    'data:view_all', 'report:view', 'report:export', 'report:stats',\r\n    'notification:manage',\r\n    // All module permissions\r\n    'visa:create', 'visa:read', 'visa:update', 'visa:delete', 'visa:review', \r\n    'visa:approve', 'visa:reject', 'visa:assign', 'visa:export',\r\n    'mou:create', 'mou:read', 'mou:update', 'mou:delete', 'mou:review',\r\n    'mou:approve', 'mou:sign', 'mou:terminate', 'mou:assign', 'mou:export',\r\n    'translation:create', 'translation:read', 'translation:update', 'translation:delete',\r\n    'translation:review', 'translation:approve', 'translation:certify',\r\n    'visitor:create', 'visitor:read', 'visitor:update', 'visitor:delete',\r\n    'visitor:approve', 'visitor:export',\r\n  ],\r\n\r\n  [UserRole.USER]: [\r\n    // Department level access\r\n    'data:view_department',\r\n    'visa:create', 'visa:read', 'visa:update',\r\n    'mou:create', 'mou:read', 'mou:update',\r\n    'translation:create', 'translation:read', 'translation:update',\r\n    'visitor:create', 'visitor:read', 'visitor:update',\r\n  ],\r\n\r\n  [UserRole.STUDENT]: [\r\n    // Own data only access\r\n    'data:view_own',\r\n    'visa:create', 'visa:read', 'visa:update',\r\n  ],\r\n\r\n  [UserRole.SPECIALIST]: [\r\n    // Processing and review access\r\n    'data:view_all',\r\n    'visa:read', 'visa:review', 'visa:assign',\r\n    'mou:read', 'mou:review', 'mou:assign',\r\n    'translation:read', 'translation:review', 'translation:certify',\r\n    'visitor:read', 'visitor:update',\r\n    'report:view', 'report:export',\r\n  ],\r\n\r\n  [UserRole.MANAGER]: [\r\n    // Approval level access\r\n    'data:view_all',\r\n    'visa:read', 'visa:approve', 'visa:reject', 'visa:export',\r\n    'mou:read', 'mou:approve', 'mou:sign', 'mou:terminate', 'mou:export',\r\n    'translation:read', 'translation:approve',\r\n    'visitor:read', 'visitor:approve', 'visitor:export',\r\n    'report:view', 'report:export', 'report:stats',\r\n  ],\r\n\r\n  [UserRole.VIEWER]: [\r\n    // Read-only public access\r\n    'data:view_public',\r\n    'visa:read', 'mou:read', 'translation:read', 'visitor:read',\r\n    'report:view',\r\n  ],\r\n\r\n  [UserRole.SYSTEM]: [\r\n    // System automation access\r\n    'notification:send',\r\n    'data:view_all',\r\n    'visa:read', 'mou:read',\r\n  ],\r\n};\r\n\r\nexport const usePermissions = () => {\r\n  const user = authHelpers.getUser();\r\n\r\n  /**\r\n   * Check if current user has a specific permission\r\n   */\r\n  const hasPermission = (permission: string): boolean => {\r\n    if (!user?.role) return false;\r\n    const userPermissions = ROLE_PERMISSIONS[user.role as UserRoleType] || [];\r\n    return userPermissions.includes(permission);\r\n  };\r\n\r\n  /**\r\n   * Check if current user has any of the specified permissions\r\n   */\r\n  const hasAnyPermission = (permissions: string[]): boolean => {\r\n    if (!user?.role) return false;\r\n    const userPermissions = ROLE_PERMISSIONS[user.role as UserRoleType] || [];\r\n    return permissions.some(permission => userPermissions.includes(permission));\r\n  };\r\n\r\n  /**\r\n   * Check if current user has all of the specified permissions\r\n   */\r\n  const hasAllPermissions = (permissions: string[]): boolean => {\r\n    if (!user?.role) return false;\r\n    const userPermissions = ROLE_PERMISSIONS[user.role as UserRoleType] || [];\r\n    return permissions.every(permission => userPermissions.includes(permission));\r\n  };\r\n\r\n  /**\r\n   * Check if user can access data based on role and data scope\r\n   */\r\n  const canAccessData = (dataScope: 'own' | 'department' | 'all' | 'public'): boolean => {\r\n    switch (dataScope) {\r\n      case 'own':\r\n        return hasAnyPermission(['data:view_own', 'data:view_department', 'data:view_all']);\r\n      case 'department':\r\n        return hasAnyPermission(['data:view_department', 'data:view_all']);\r\n      case 'all':\r\n        return hasPermission('data:view_all');\r\n      case 'public':\r\n        return hasAnyPermission(['data:view_public', 'data:view_own', 'data:view_department', 'data:view_all']);\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Check if user can perform action on specific module\r\n   */\r\n  const canAccessModule = (\r\n    module: 'visa' | 'mou' | 'translation' | 'visitor',\r\n    action: 'create' | 'read' | 'update' | 'delete' | 'review' | 'approve'\r\n  ): boolean => {\r\n    const permission = `${module}:${action}`;\r\n    return hasPermission(permission);\r\n  };\r\n\r\n  /**\r\n   * Get user role display name in Vietnamese\r\n   */\r\n  const getRoleDisplayName = (role?: UserRoleType): string => {\r\n    const roleNames = {\r\n      [UserRole.ADMIN]: 'Admin CNTT',\r\n      [UserRole.USER]: 'Người dùng cơ sở',\r\n      [UserRole.STUDENT]: 'Sinh viên/Học viên quốc tế',\r\n      [UserRole.SPECIALIST]: 'Chuyên viên HTQT/KHCN&ĐN',\r\n      [UserRole.MANAGER]: 'Lãnh đạo Phòng',\r\n      [UserRole.VIEWER]: 'Người dùng tra cứu',\r\n      [UserRole.SYSTEM]: 'Hệ thống',\r\n    };\r\n    \r\n    return roleNames[role as UserRoleType] || role || 'Không xác định';\r\n  };\r\n\r\n  /**\r\n   * Check specific role-based actions\r\n   */\r\n  const can = {\r\n    // User management\r\n    createUser: () => hasPermission('user:create'),\r\n    manageUsers: () => hasPermission('user:read'),\r\n    assignRoles: () => hasPermission('user:assign_role'),\r\n    \r\n    // System\r\n    configureSystem: () => hasPermission('system:config'),\r\n    viewSystemLogs: () => hasPermission('system:logs'),\r\n    \r\n    // MOU\r\n    createMOU: () => hasPermission('mou:create'),\r\n    viewMOU: () => hasPermission('mou:read'),\r\n    editMOU: () => hasPermission('mou:update'),\r\n    deleteMOU: () => hasPermission('mou:delete'),\r\n    reviewMOU: () => hasPermission('mou:review'),\r\n    approveMOU: () => hasPermission('mou:approve'),\r\n    signMOU: () => hasPermission('mou:sign'),\r\n    terminateMOU: () => hasPermission('mou:terminate'),\r\n    exportMOU: () => hasPermission('mou:export'),\r\n    \r\n    // Visa\r\n    createVisa: () => hasPermission('visa:create'),\r\n    viewVisa: () => hasPermission('visa:read'),\r\n    editVisa: () => hasPermission('visa:update'),\r\n    deleteVisa: () => hasPermission('visa:delete'),\r\n    reviewVisa: () => hasPermission('visa:review'),\r\n    approveVisa: () => hasPermission('visa:approve'),\r\n    rejectVisa: () => hasPermission('visa:reject'),\r\n    exportVisa: () => hasPermission('visa:export'),\r\n    \r\n    // Translation\r\n    createTranslation: () => hasPermission('translation:create'),\r\n    viewTranslation: () => hasPermission('translation:read'),\r\n    editTranslation: () => hasPermission('translation:update'),\r\n    deleteTranslation: () => hasPermission('translation:delete'),\r\n    reviewTranslation: () => hasPermission('translation:review'),\r\n    approveTranslation: () => hasPermission('translation:approve'),\r\n    certifyTranslation: () => hasPermission('translation:certify'),\r\n    \r\n    // Visitor\r\n    createVisitor: () => hasPermission('visitor:create'),\r\n    viewVisitor: () => hasPermission('visitor:read'),\r\n    editVisitor: () => hasPermission('visitor:update'),\r\n    deleteVisitor: () => hasPermission('visitor:delete'),\r\n    approveVisitor: () => hasPermission('visitor:approve'),\r\n    exportVisitor: () => hasPermission('visitor:export'),\r\n    \r\n    // Reports\r\n    viewReports: () => hasPermission('report:view'),\r\n    exportReports: () => hasPermission('report:export'),\r\n    viewStatistics: () => hasPermission('report:stats'),\r\n  };\r\n\r\n  return {\r\n    hasPermission,\r\n    hasAnyPermission,\r\n    hasAllPermissions,\r\n    canAccessData,\r\n    canAccessModule,\r\n    getRoleDisplayName,\r\n    can,\r\n    userRole: user?.role as UserRoleType,\r\n    isAdmin: user?.role === UserRole.ADMIN,\r\n    isUser: user?.role === UserRole.USER,\r\n    isStudent: user?.role === UserRole.STUDENT,\r\n    isSpecialist: user?.role === UserRole.SPECIALIST,\r\n    isManager: user?.role === UserRole.MANAGER,\r\n    isViewer: user?.role === UserRole.VIEWER,\r\n    isSystem: user?.role === UserRole.SYSTEM,\r\n  };\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/components/auth/LogoutButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { LogOut } from 'lucide-react';\r\nimport { authHelpers } from '@/lib/auth';\r\n\r\ninterface LogoutButtonProps {\r\n  variant?: 'default' | 'outline' | 'ghost' | 'link' | 'destructive' | 'secondary';\r\n  size?: 'default' | 'sm' | 'lg' | 'icon';\r\n  fullWidth?: boolean;\r\n  showIcon?: boolean;\r\n  children?: React.ReactNode;\r\n}\r\n\r\nexport function LogoutButton({ \r\n  variant = 'default', \r\n  size = 'default',\r\n  fullWidth = false,\r\n  showIcon = true,\r\n  children\r\n}: LogoutButtonProps) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      \r\n      // Clear authentication data\r\n      authHelpers.removeToken();\r\n      authHelpers.removeUser();\r\n      \r\n      // Small delay to ensure cleanup\r\n      setTimeout(() => {\r\n        router.push('/login');\r\n      }, 100);\r\n      \r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant={variant}\r\n      size={size}\r\n      onClick={handleLogout}\r\n      disabled={isLoading}\r\n      className={fullWidth ? 'w-full' : ''}\r\n    >\r\n      {showIcon && <LogOut className=\"h-4 w-4 mr-2\" />}\r\n      {children || (isLoading ? 'Đang đăng xuất...' : 'Đăng xuất')}\r\n    </Button>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAgBO,SAAS,aAAa,KAMT;QANS,EAC3B,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,YAAY,KAAK,EACjB,WAAW,IAAI,EACf,QAAQ,EACU,GANS;;IAO3B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe;QACnB,IAAI;YACF,aAAa;YAEb,4BAA4B;YAC5B,qHAAA,CAAA,cAAW,CAAC,WAAW;YACvB,qHAAA,CAAA,cAAW,CAAC,UAAU;YAEtB,gCAAgC;YAChC,WAAW;gBACT,OAAO,IAAI,CAAC;YACd,GAAG;QAEL,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;QACjC,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC,qIAAA,CAAA,SAAM;QACL,SAAS;QACT,MAAM;QACN,SAAS;QACT,UAAU;QACV,WAAW,YAAY,WAAW;;YAEjC,0BAAY,6LAAC,6MAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;YAC9B,YAAY,CAAC,YAAY,sBAAsB,WAAW;;;;;;;AAGjE;GA1CgB;;QAQC,qIAAA,CAAA,YAAS;;;KARV","debugId":null}},
    {"offset": {"line": 570, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,6JAAA,CAAA,aAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,6JAAA,CAAA,aAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAAa,GAAG,KAAK;;;;;;;;AAErF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,6JAAA,CAAA,aAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,6JAAA,CAAA,aAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,6JAAA,CAAA,aAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,6JAAA,CAAA,aAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAAa,GAAG,KAAK;;;;;;;;AAElF,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 691, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACb,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 740, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/components/ui/separator.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Separator = React.forwardRef<\r\n  React.ElementRef<\"div\">,\r\n  React.ComponentPropsWithoutRef<\"div\"> & {\r\n    orientation?: \"horizontal\" | \"vertical\"\r\n    decorative?: boolean\r\n  }\r\n>(\r\n  (\r\n    { className, orientation = \"horizontal\", decorative = true, ...props },\r\n    ref\r\n  ) => (\r\n    <div\r\n      ref={ref}\r\n      role={decorative ? \"none\" : \"separator\"}\r\n      aria-orientation={orientation}\r\n      className={cn(\r\n        \"shrink-0 bg-border\",\r\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n)\r\nSeparator.displayName = \"Separator\"\r\n\r\nexport { Separator }\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,0BAAY,6JAAA,CAAA,aAAgB,MAOhC,QAEE;QADA,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO;yBAGtE,6LAAC;QACC,KAAK;QACL,MAAM,aAAa,SAAS;QAC5B,oBAAkB;QAClB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;;AAIf,UAAU,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/components/auth/UserProfileCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { \r\n  User, \r\n  Mail, \r\n  Phone, \r\n  Shield, \r\n  Settings, \r\n  LogOut,\r\n  UserCircle\r\n} from 'lucide-react';\r\nimport { authHelpers } from '@/lib/auth';\r\nimport { usePermissions } from '@/hooks/usePermissions';\r\nimport { LogoutButton } from './LogoutButton';\r\n\r\ninterface UserProfileCardProps {\r\n  onClose?: () => void;\r\n}\r\n\r\nexport function UserProfileCard({ onClose }: UserProfileCardProps) {\r\n  const { userRole, getRoleDisplayName } = usePermissions();\r\n  const user = authHelpers.getUser();\r\n\r\n  if (!user) {\r\n    return (\r\n      <Card className=\"w-80\">\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"text-center text-muted-foreground\">\r\n            Chưa đăng nhập\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const getRoleColor = (role: string) => {\r\n    switch (role) {\r\n      case 'admin':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'manager':\r\n        return 'bg-purple-100 text-purple-800';\r\n      case 'specialist':\r\n        return 'bg-blue-100 text-blue-800';\r\n      case 'user':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'student':\r\n        return 'bg-orange-100 text-orange-800';\r\n      case 'viewer':\r\n        return 'bg-gray-100 text-gray-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"w-80 shadow-lg\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className=\"bg-blue-100 p-2 rounded-full\">\r\n            <UserCircle className=\"h-6 w-6 text-blue-600\" />\r\n          </div>\r\n          <div>\r\n            <CardTitle className=\"text-base\">\r\n              {user.fullName || user.name || 'Người dùng'}\r\n            </CardTitle>\r\n            <Badge className={`mt-1 ${getRoleColor(userRole)}`}>\r\n              {getRoleDisplayName(userRole)}\r\n            </Badge>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"space-y-4\">\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span className=\"text-sm\">{user.email}</span>\r\n          </div>\r\n          \r\n          {user.phone && (\r\n            <div className=\"flex items-center space-x-3\">\r\n              <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span className=\"text-sm\">{user.phone}</span>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex items-center space-x-3\">\r\n            <User className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span className=\"text-sm\">{user.username || 'N/A'}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <Separator />\r\n        \r\n        <div className=\"space-y-2\">\r\n          <Button \r\n            variant=\"outline\" \r\n            size=\"sm\" \r\n            className=\"w-full justify-start\"\r\n            onClick={onClose}\r\n          >\r\n            <Settings className=\"h-4 w-4 mr-2\" />\r\n            Cài đặt tài khoản\r\n          </Button>\r\n          \r\n          <Button \r\n            variant=\"outline\" \r\n            size=\"sm\" \r\n            className=\"w-full justify-start\"\r\n            onClick={onClose}\r\n          >\r\n            <Shield className=\"h-4 w-4 mr-2\" />\r\n            Bảo mật\r\n          </Button>\r\n        </div>\r\n        \r\n        <Separator />\r\n        \r\n        <LogoutButton \r\n          variant=\"destructive\" \r\n          size=\"sm\" \r\n          fullWidth={true}\r\n          showIcon={true}\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;;;AAlBA;;;;;;;;;AAwBO,SAAS,gBAAgB,KAAiC;QAAjC,EAAE,OAAO,EAAwB,GAAjC;;IAC9B,MAAM,EAAE,QAAQ,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;IACtD,MAAM,OAAO,qHAAA,CAAA,cAAW,CAAC,OAAO;IAEhC,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC,mIAAA,CAAA,OAAI;YAAC,WAAU;sBACd,cAAA,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;0BACrB,cAAA,6LAAC;oBAAI,WAAU;8BAAoC;;;;;;;;;;;;;;;;IAM3D;IAEA,MAAM,eAAe,CAAC;QACpB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,qNAAA,CAAA,aAAU;gCAAC,WAAU;;;;;;;;;;;sCAExB,6LAAC;;8CACC,6LAAC,mIAAA,CAAA,YAAS;oCAAC,WAAU;8CAClB,KAAK,QAAQ,IAAI,KAAK,IAAI,IAAI;;;;;;8CAEjC,6LAAC,oIAAA,CAAA,QAAK;oCAAC,WAAW,AAAC,QAA8B,OAAvB,aAAa;8CACpC,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;0BAM5B,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,qMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;kDAChB,6LAAC;wCAAK,WAAU;kDAAW,KAAK,KAAK;;;;;;;;;;;;4BAGtC,KAAK,KAAK,kBACT,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,uMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;kDACjB,6LAAC;wCAAK,WAAU;kDAAW,KAAK,KAAK;;;;;;;;;;;;0CAIzC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,qMAAA,CAAA,OAAI;wCAAC,WAAU;;;;;;kDAChB,6LAAC;wCAAK,WAAU;kDAAW,KAAK,QAAQ,IAAI;;;;;;;;;;;;;;;;;;kCAIhD,6LAAC,wIAAA,CAAA,YAAS;;;;;kCAEV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS;;kDAET,6LAAC,6MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;0CAIvC,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS;;kDAET,6LAAC,yMAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;kCAKvC,6LAAC,wIAAA,CAAA,YAAS;;;;;kCAEV,6LAAC,6IAAA,CAAA,eAAY;wBACX,SAAQ;wBACR,MAAK;wBACL,WAAW;wBACX,UAAU;;;;;;;;;;;;;;;;;;AAKpB;GA5GgB;;QAC2B,iIAAA,CAAA,iBAAc;;;KADzC","debugId":null}},
    {"offset": {"line": 1093, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/components/debug/AuthDebug.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { authHelpers } from '@/lib/auth';\r\nimport { usePermissions } from '@/hooks/usePermissions';\r\n\r\nexport function AuthDebug() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { userRole, getRoleDisplayName } = usePermissions();\r\n  const user = authHelpers.getUser();\r\n  const token = authHelpers.getToken();\r\n\r\n  if (!isOpen) {\r\n    return (\r\n      <div className=\"fixed bottom-4 right-4 z-50\">\r\n        <button\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-medium shadow-lg hover:bg-blue-700\"\r\n        >\r\n          Debug Auth\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed bottom-4 right-4 z-50 bg-white border shadow-lg rounded-lg p-4 max-w-sm\">\r\n      <div className=\"flex justify-between items-center mb-3\">\r\n        <h3 className=\"font-semibold text-sm\">Debug Info</h3>\r\n        <button\r\n          onClick={() => setIsOpen(false)}\r\n          className=\"text-gray-400 hover:text-gray-600 text-xs\"\r\n        >\r\n          ✕\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"space-y-2 text-xs\">\r\n        <div>\r\n          <strong>Role:</strong> {userRole || 'None'}\r\n        </div>\r\n        <div>\r\n          <strong>Display:</strong> {getRoleDisplayName(userRole)}\r\n        </div>\r\n        <div>\r\n          <strong>User:</strong> {user?.email || 'Not logged in'}\r\n        </div>\r\n        <div>\r\n          <strong>Token:</strong> {token ? 'Present' : 'None'}\r\n        </div>\r\n        <div>\r\n          <strong>Name:</strong> {user?.fullName || user?.name || 'N/A'}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"mt-3 pt-3 border-t\">\r\n        <button\r\n          onClick={() => {\r\n            authHelpers.logout();\r\n          }}\r\n          className=\"text-red-600 hover:text-red-800 text-xs font-medium\"\r\n        >\r\n          Force Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,EAAE,QAAQ,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;IACtD,MAAM,OAAO,qHAAA,CAAA,cAAW,CAAC,OAAO;IAChC,MAAM,QAAQ,qHAAA,CAAA,cAAW,CAAC,QAAQ;IAElC,IAAI,CAAC,QAAQ;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAU;0BACX;;;;;;;;;;;IAKP;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,6LAAC;wBACC,SAAS,IAAM,UAAU;wBACzB,WAAU;kCACX;;;;;;;;;;;;0BAKH,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;0CAAO;;;;;;4BAAc;4BAAE,YAAY;;;;;;;kCAEtC,6LAAC;;0CACC,6LAAC;0CAAO;;;;;;4BAAiB;4BAAE,mBAAmB;;;;;;;kCAEhD,6LAAC;;0CACC,6LAAC;0CAAO;;;;;;4BAAc;4BAAE,CAAA,iBAAA,2BAAA,KAAM,KAAK,KAAI;;;;;;;kCAEzC,6LAAC;;0CACC,6LAAC;0CAAO;;;;;;4BAAe;4BAAE,QAAQ,YAAY;;;;;;;kCAE/C,6LAAC;;0CACC,6LAAC;0CAAO;;;;;;4BAAc;4BAAE,CAAA,iBAAA,2BAAA,KAAM,QAAQ,MAAI,iBAAA,2BAAA,KAAM,IAAI,KAAI;;;;;;;;;;;;;0BAI5D,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,SAAS;wBACP,qHAAA,CAAA,cAAW,CAAC,MAAM;oBACpB;oBACA,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT;GA7DgB;;QAE2B,iIAAA,CAAA,iBAAc;;;KAFzC","debugId":null}},
    {"offset": {"line": 1295, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/app/dashboard/layout.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useMemo, useEffect, useRef } from 'react'\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { \n  FileText, \n  Plus, \n  BarChart3, \n  Settings, \n  User, \n  Bell,\n  Menu,\n  X,\n  Home,\n  LogOut,\n  Users,\n  Shield,\n  BookOpen,\n  FileCheck,\n  UserCheck,\n  GraduationCap,\n  Eye,\n  FileSignature,\n  ClipboardCheck,\n  Building,\n  Search,\n  Download,\n  Calendar,\n  MessageSquare,\n  ChevronDown,\n  UserCircle\n} from 'lucide-react'\nimport { usePermissions, UserRole } from '@/hooks/usePermissions'\nimport { authHelpers } from '@/lib/auth'\nimport { LogoutButton } from '@/components/auth/LogoutButton'\nimport { UserProfileCard } from '@/components/auth/UserProfileCard'\nimport { AuthDebug } from '@/components/debug/AuthDebug'\n\ninterface NavItem {\n  name: string;\n  href: string;\n  icon: any;\n  permission?: string;\n  roles?: string[];\n}\n\nconst baseNavigation: NavItem[] = [\n  {\n    name: 'Trang chủ',\n    href: '/dashboard',\n    icon: Home,\n  },\n]\n\nconst adminNavigation: NavItem[] = [\n  ...baseNavigation,\n  {\n    name: 'Quản lý người dùng',\n    href: '/dashboard/admin/users',\n    icon: Users,\n    permission: 'user:read',\n  },\n  {\n    name: 'Phân quyền',\n    href: '/dashboard/admin/roles',\n    icon: Shield,\n    permission: 'user:assign_role',\n  },\n  {\n    name: 'Cấu hình hệ thống',\n    href: '/dashboard/admin/system',\n    icon: Settings,\n    permission: 'system:config',\n  },\n  {\n    name: 'Nhật ký hệ thống',\n    href: '/dashboard/admin/logs',\n    icon: FileText,\n    permission: 'system:logs',\n  },\n  {\n    name: 'Thống kê tổng quan',\n    href: '/dashboard/admin/statistics',\n    icon: BarChart3,\n    permission: 'report:stats',\n  },\n]\n\nconst userNavigation: NavItem[] = [\n  ...baseNavigation,\n  {\n    name: 'Tạo đơn Visa',\n    href: '/dashboard/visa/create',\n    icon: Plus,\n    permission: 'visa:create',\n  },\n  {\n    name: 'Đơn Visa của tôi',\n    href: '/dashboard/visa/my-applications',\n    icon: FileText,\n    permission: 'visa:read',\n  },\n  {\n    name: 'Tạo Biên bản ghi nhớ',\n    href: '/dashboard/mou/create',\n    icon: FileSignature,\n    permission: 'mou:create',\n  },\n  {\n    name: 'Biên bản của đơn vị',\n    href: '/dashboard/mou',\n    icon: BookOpen,\n    permission: 'mou:read',\n  },\n  {\n    name: 'Yêu cầu dịch thuật',\n    href: '/dashboard/translation/create',\n    icon: MessageSquare,\n    permission: 'translation:create',\n  },\n  {\n    name: 'Đăng ký khách',\n    href: '/dashboard/visitor/create',\n    icon: UserCheck,\n    permission: 'visitor:create',\n  },\n]\n\nconst studentNavigation: NavItem[] = [\n  ...baseNavigation,\n  {\n    name: 'Đơn gia hạn Visa',\n    href: '/dashboard/visa/create',\n    icon: Plus,\n    permission: 'visa:create',\n  },\n  {\n    name: 'Đơn của tôi',\n    href: '/dashboard/visa/my-applications',\n    icon: FileText,\n    permission: 'visa:read',\n  },\n  {\n    name: 'Tài liệu hướng dẫn',\n    href: '/dashboard/student/guide',\n    icon: BookOpen,\n  },\n  {\n    name: 'Lịch hẹn',\n    href: '/dashboard/student/appointments',\n    icon: Calendar,\n  },\n]\n\nconst specialistNavigation: NavItem[] = [\n  ...baseNavigation,\n  {\n    name: 'Xét duyệt Visa',\n    href: '/dashboard/specialist/visa-review',\n    icon: ClipboardCheck,\n    permission: 'visa:review',\n  },\n  {\n    name: 'Xét duyệt MOU',\n    href: '/dashboard/specialist/mou-review',\n    icon: FileCheck,\n    permission: 'mou:review',\n  },\n  {\n    name: 'Dịch thuật',\n    href: '/dashboard/specialist/translation',\n    icon: MessageSquare,\n    permission: 'translation:review',\n  },\n  {\n    name: 'Quản lý khách',\n    href: '/dashboard/specialist/visitor',\n    icon: UserCheck,\n    permission: 'visitor:read',\n  },\n  {\n    name: 'Báo cáo',\n    href: '/dashboard/specialist/reports',\n    icon: BarChart3,\n    permission: 'report:view',\n  },\n]\n\nconst managerNavigation: NavItem[] = [\n  ...baseNavigation,\n  {\n    name: 'Phê duyệt Visa',\n    href: '/dashboard/manager/visa-approval',\n    icon: FileCheck,\n    permission: 'visa:approve',\n  },\n  {\n    name: 'Phê duyệt MOU',\n    href: '/dashboard/manager/mou-approval',\n    icon: FileSignature,\n    permission: 'mou:approve',\n  },\n  {\n    name: 'Ký MOU',\n    href: '/dashboard/manager/mou-signing',\n    icon: BookOpen,\n    permission: 'mou:sign',\n  },\n  {\n    name: 'Phê duyệt khách',\n    href: '/dashboard/manager/visitor-approval',\n    icon: UserCheck,\n    permission: 'visitor:approve',\n  },\n  {\n    name: 'Thống kê & Báo cáo',\n    href: '/dashboard/manager/statistics',\n    icon: BarChart3,\n    permission: 'report:stats',\n  },\n  {\n    name: 'Xuất báo cáo',\n    href: '/dashboard/manager/export',\n    icon: Download,\n    permission: 'report:export',\n  },\n]\n\nconst viewerNavigation: NavItem[] = [\n  ...baseNavigation,\n  {\n    name: 'Tra cứu Visa',\n    href: '/dashboard/viewer/visa-lookup',\n    icon: Search,\n    permission: 'visa:read',\n  },\n  {\n    name: 'Tra cứu MOU',\n    href: '/dashboard/viewer/mou-lookup',\n    icon: BookOpen,\n    permission: 'mou:read',\n  },\n  {\n    name: 'Tra cứu khách',\n    href: '/dashboard/viewer/visitor-lookup',\n    icon: UserCheck,\n    permission: 'visitor:read',\n  },\n  {\n    name: 'Thống kê công khai',\n    href: '/dashboard/viewer/public-stats',\n    icon: BarChart3,\n    permission: 'report:view',\n  },\n]\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [userMenuOpen, setUserMenuOpen] = useState(false)\n  const pathname = usePathname()\n  const { userRole, hasPermission, getRoleDisplayName } = usePermissions()\n  const userMenuRef = useRef<HTMLDivElement>(null)\n\n  // Close user menu when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target as Node)) {\n        setUserMenuOpen(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [])\n\n  // Get navigation based on user role\n  const navigation = useMemo(() => {\n    switch (userRole) {\n      case UserRole.ADMIN:\n        return adminNavigation;\n      case UserRole.USER:\n        return userNavigation;\n      case UserRole.STUDENT:\n        return studentNavigation;\n      case UserRole.SPECIALIST:\n        return specialistNavigation;\n      case UserRole.MANAGER:\n        return managerNavigation;\n      case UserRole.VIEWER:\n        return viewerNavigation;\n      default:\n        return baseNavigation;\n    }\n  }, [userRole])\n\n  // Filter navigation items based on permissions\n  const filteredNavigation = useMemo(() => {\n    return navigation.filter(item => {\n      if (!item.permission) return true;\n      return hasPermission(item.permission);\n    });\n  }, [navigation, hasPermission])\n\n  const getRoleTitle = () => {\n    switch (userRole) {\n      case UserRole.ADMIN:\n        return 'Hệ thống quản trị';\n      case UserRole.USER:\n        return 'Cổng thông tin đơn vị';\n      case UserRole.STUDENT:\n        return 'Cổng thông tin sinh viên';\n      case UserRole.SPECIALIST:\n        return 'Hệ thống xét duyệt';\n      case UserRole.MANAGER:\n        return 'Hệ thống phê duyệt';\n      case UserRole.VIEWER:\n        return 'Hệ thống tra cứu';\n      default:\n        return 'Cổng thông tin HTQT';\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile sidebar */}\n      <div className={`fixed inset-0 z-50 lg:hidden ${sidebarOpen ? 'block' : 'hidden'}`}>\n        <div className=\"fixed inset-0 bg-black bg-opacity-25\" onClick={() => setSidebarOpen(false)} />\n        <div className=\"fixed inset-y-0 left-0 w-64 bg-white shadow-lg\">\n          <div className=\"flex items-center justify-between p-4 border-b\">\n            <h2 className=\"text-lg font-semibold\">{getRoleTitle()}</h2>\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => setSidebarOpen(false)}>\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <nav className=\"p-4\">\n            <ul className=\"space-y-2\">\n              {filteredNavigation.map((item) => {\n                const Icon = item.icon\n                return (\n                  <li key={item.name}>\n                    <Link\n                      href={item.href}\n                      className={`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        pathname === item.href\n                          ? 'bg-blue-100 text-blue-700'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <Icon className=\"h-4 w-4\" />\n                      {item.name}\n                    </Link>\n                  </li>\n                )\n              })}\n            </ul>\n          </nav>\n        </div>\n      </div>\n\n      {/* Desktop sidebar */}\n      <div className=\"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-40 lg:w-64 lg:bg-white lg:shadow-sm lg:block\">\n        <div className=\"flex flex-col h-full\">\n          <div className=\"p-6 border-b\">\n            <h2 className=\"text-xl font-bold text-gray-900\">{getRoleTitle()}</h2>\n          </div>\n          <nav className=\"flex-1 p-4\">\n            <ul className=\"space-y-2\">\n              {filteredNavigation.map((item) => {\n                const Icon = item.icon\n                return (\n                  <li key={item.name}>\n                    <Link\n                      href={item.href}\n                      className={`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        pathname === item.href\n                          ? 'bg-blue-100 text-blue-700'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                    >\n                      <Icon className=\"h-4 w-4\" />\n                      {item.name}\n                    </Link>\n                  </li>\n                )\n              })}\n            </ul>\n          </nav>\n          <div className=\"p-4 border-t\">\n            <div className=\"mb-3 px-3 py-2 bg-gray-50 rounded-lg\">\n              <p className=\"text-xs text-gray-600 mb-1\">Đăng nhập với vai trò:</p>\n              <p className=\"text-sm font-medium text-gray-900\">{getRoleDisplayName(userRole)}</p>\n            </div>\n            <LogoutButton variant=\"outline\" fullWidth={true} />\n          </div>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"lg:pl-64\">\n        {/* Top bar */}\n        <div className=\"sticky top-0 z-30 bg-white border-b px-4 py-3 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"lg:hidden\"\n                onClick={() => setSidebarOpen(true)}\n              >\n                <Menu className=\"h-4 w-4\" />\n              </Button>\n              <h1 className=\"text-lg font-semibold text-gray-900\">\n                {filteredNavigation.find(item => item.href === pathname)?.name || 'Trang chủ'}\n              </h1>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button variant=\"ghost\" size=\"sm\">\n                <Bell className=\"h-4 w-4\" />\n              </Button>\n              \n              {/* User Menu Dropdown */}\n              <div className=\"relative\" ref={userMenuRef}>\n                <Button \n                  variant=\"ghost\" \n                  size=\"sm\" \n                  className=\"flex items-center gap-2\"\n                  onClick={() => setUserMenuOpen(!userMenuOpen)}\n                >\n                  <UserCircle className=\"h-4 w-4\" />\n                  <span className=\"hidden sm:block text-sm font-medium\">\n                    {authHelpers.getUser()?.name || 'Người dùng'}\n                  </span>\n                  <ChevronDown className=\"h-3 w-3\" />\n                </Button>\n\n                {/* Dropdown Menu */}\n                {userMenuOpen && (\n                  <div className=\"absolute right-0 mt-2 z-50\">\n                    <UserProfileCard onClose={() => setUserMenuOpen(false)} />\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Page content */}\n        <main className=\"flex-1\">\n          {children}\n        </main>\n      </div>\n      \n      {/* Auth Debug Component - only in development */}\n      {process.env.NODE_ENV === 'development' && <AuthDebug />}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;AA+cO;;AA7cP;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA;AACA;AACA;AACA;AACA;;;AAvCA;;;;;;;;;;;AAiDA,MAAM,iBAA4B;IAChC;QACE,MAAM;QACN,MAAM;QACN,MAAM,sMAAA,CAAA,OAAI;IACZ;CACD;AAED,MAAM,kBAA6B;OAC9B;IACH;QACE,MAAM;QACN,MAAM;QACN,MAAM,uMAAA,CAAA,QAAK;QACX,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,yMAAA,CAAA,SAAM;QACZ,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6MAAA,CAAA,WAAQ;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,iNAAA,CAAA,WAAQ;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,qNAAA,CAAA,YAAS;QACf,YAAY;IACd;CACD;AAED,MAAM,iBAA4B;OAC7B;IACH;QACE,MAAM;QACN,MAAM;QACN,MAAM,qMAAA,CAAA,OAAI;QACV,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,iNAAA,CAAA,WAAQ;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6NAAA,CAAA,gBAAa;QACnB,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,iNAAA,CAAA,WAAQ;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,2NAAA,CAAA,gBAAa;QACnB,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mNAAA,CAAA,YAAS;QACf,YAAY;IACd;CACD;AAED,MAAM,oBAA+B;OAChC;IACH;QACE,MAAM;QACN,MAAM;QACN,MAAM,qMAAA,CAAA,OAAI;QACV,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,iNAAA,CAAA,WAAQ;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,iNAAA,CAAA,WAAQ;IAChB;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6MAAA,CAAA,WAAQ;IAChB;CACD;AAED,MAAM,uBAAkC;OACnC;IACH;QACE,MAAM;QACN,MAAM;QACN,MAAM,6NAAA,CAAA,iBAAc;QACpB,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mNAAA,CAAA,YAAS;QACf,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,2NAAA,CAAA,gBAAa;QACnB,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mNAAA,CAAA,YAAS;QACf,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,qNAAA,CAAA,YAAS;QACf,YAAY;IACd;CACD;AAED,MAAM,oBAA+B;OAChC;IACH;QACE,MAAM;QACN,MAAM;QACN,MAAM,mNAAA,CAAA,YAAS;QACf,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6NAAA,CAAA,gBAAa;QACnB,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,iNAAA,CAAA,WAAQ;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mNAAA,CAAA,YAAS;QACf,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,qNAAA,CAAA,YAAS;QACf,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6MAAA,CAAA,WAAQ;QACd,YAAY;IACd;CACD;AAED,MAAM,mBAA8B;OAC/B;IACH;QACE,MAAM;QACN,MAAM;QACN,MAAM,yMAAA,CAAA,SAAM;QACZ,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,iNAAA,CAAA,WAAQ;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mNAAA,CAAA,YAAS;QACf,YAAY;IACd;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,qNAAA,CAAA,YAAS;QACf,YAAY;IACd;CACD;AAEc,SAAS,gBAAgB,KAIvC;QAJuC,EACtC,QAAQ,EAGT,GAJuC;QAmKvB,0BAkBI;;IAhLnB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,iBAAc,AAAD;IACrE,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE3C,wCAAwC;IACxC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,SAAS,mBAAmB,KAAiB;gBAC3C,IAAI,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;oBAC9E,gBAAgB;gBAClB;YACF;YAEA,SAAS,gBAAgB,CAAC,aAAa;YACvC;6CAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;oCAAG,EAAE;IAEL,oCAAoC;IACpC,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;+CAAE;YACzB,OAAQ;gBACN,KAAK,iIAAA,CAAA,WAAQ,CAAC,KAAK;oBACjB,OAAO;gBACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,IAAI;oBAChB,OAAO;gBACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,OAAO;oBACnB,OAAO;gBACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,UAAU;oBACtB,OAAO;gBACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,OAAO;oBACnB,OAAO;gBACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,MAAM;oBAClB,OAAO;gBACT;oBACE,OAAO;YACX;QACF;8CAAG;QAAC;KAAS;IAEb,+CAA+C;IAC/C,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;uDAAE;YACjC,OAAO,WAAW,MAAM;+DAAC,CAAA;oBACvB,IAAI,CAAC,KAAK,UAAU,EAAE,OAAO;oBAC7B,OAAO,cAAc,KAAK,UAAU;gBACtC;;QACF;sDAAG;QAAC;QAAY;KAAc;IAE9B,MAAM,eAAe;QACnB,OAAQ;YACN,KAAK,iIAAA,CAAA,WAAQ,CAAC,KAAK;gBACjB,OAAO;YACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,IAAI;gBAChB,OAAO;YACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,OAAO;gBACnB,OAAO;YACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,UAAU;gBACtB,OAAO;YACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,OAAO;gBACnB,OAAO;YACT,KAAK,iIAAA,CAAA,WAAQ,CAAC,MAAM;gBAClB,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAW,AAAC,gCAAgE,OAAjC,cAAc,UAAU;;kCACtE,6LAAC;wBAAI,WAAU;wBAAuC,SAAS,IAAM,eAAe;;;;;;kCACpF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAyB;;;;;;kDACvC,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAK,SAAS,IAAM,eAAe;kDAC9D,cAAA,6LAAC,+LAAA,CAAA,IAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGjB,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAG,WAAU;8CACX,mBAAmB,GAAG,CAAC,CAAC;wCACvB,MAAM,OAAO,KAAK,IAAI;wCACtB,qBACE,6LAAC;sDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;gDACH,MAAM,KAAK,IAAI;gDACf,WAAW,AAAC,sFAIX,OAHC,aAAa,KAAK,IAAI,GAClB,8BACA;gDAEN,SAAS,IAAM,eAAe;;kEAE9B,6LAAC;wDAAK,WAAU;;;;;;oDACf,KAAK,IAAI;;;;;;;2CAXL,KAAK,IAAI;;;;;oCAetB;;;;;;;;;;;;;;;;;;;;;;;0BAOR,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAU;0CAAmC;;;;;;;;;;;sCAEnD,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAG,WAAU;0CACX,mBAAmB,GAAG,CAAC,CAAC;oCACvB,MAAM,OAAO,KAAK,IAAI;oCACtB,qBACE,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CACH,MAAM,KAAK,IAAI;4CACf,WAAW,AAAC,sFAIX,OAHC,aAAa,KAAK,IAAI,GAClB,8BACA;;8DAGN,6LAAC;oDAAK,WAAU;;;;;;gDACf,KAAK,IAAI;;;;;;;uCAVL,KAAK,IAAI;;;;;gCActB;;;;;;;;;;;sCAGJ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDAA6B;;;;;;sDAC1C,6LAAC;4CAAE,WAAU;sDAAqC,mBAAmB;;;;;;;;;;;;8CAEvE,6LAAC,6IAAA,CAAA,eAAY;oCAAC,SAAQ;oCAAU,WAAW;;;;;;;;;;;;;;;;;;;;;;;0BAMjD,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,qIAAA,CAAA,SAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,eAAe;sDAE9B,cAAA,6LAAC,qMAAA,CAAA,OAAI;gDAAC,WAAU;;;;;;;;;;;sDAElB,6LAAC;4CAAG,WAAU;sDACX,EAAA,2BAAA,mBAAmB,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,KAAK,uBAA9C,+CAAA,yBAAyD,IAAI,KAAI;;;;;;;;;;;;8CAGtE,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,qIAAA,CAAA,SAAM;4CAAC,SAAQ;4CAAQ,MAAK;sDAC3B,cAAA,6LAAC,qMAAA,CAAA,OAAI;gDAAC,WAAU;;;;;;;;;;;sDAIlB,6LAAC;4CAAI,WAAU;4CAAW,KAAK;;8DAC7B,6LAAC,qIAAA,CAAA,SAAM;oDACL,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,IAAM,gBAAgB,CAAC;;sEAEhC,6LAAC,qNAAA,CAAA,aAAU;4DAAC,WAAU;;;;;;sEACtB,6LAAC;4DAAK,WAAU;sEACb,EAAA,uBAAA,qHAAA,CAAA,cAAW,CAAC,OAAO,gBAAnB,2CAAA,qBAAuB,IAAI,KAAI;;;;;;sEAElC,6LAAC,uNAAA,CAAA,cAAW;4DAAC,WAAU;;;;;;;;;;;;gDAIxB,8BACC,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC,gJAAA,CAAA,kBAAe;wDAAC,SAAS,IAAM,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAS5D,6LAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;YAKJ,oDAAyB,+BAAiB,6LAAC,2IAAA,CAAA,YAAS;;;;;;;;;;;AAG3D;GA/MwB;;QAOL,qIAAA,CAAA,cAAW;QAC4B,iIAAA,CAAA,iBAAc;;;KARhD","debugId":null}}]
}