(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{2440:(e,s,a)=>{Promise.resolve().then(a.bind(a,8611))},4616:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5040:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(9946).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},7434:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(9946).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8611:(e,s,a)=>{"use strict";a.d(s,{default:()=>w});var n=a(5155),t=a(2115),i=a(6874),l=a.n(i),r=a(5695),c=a(285),d=a(7340),h=a(4616),m=a(7434),x=a(5040),o=a(9074),g=a(4416),u=a(4783),p=a(3861),f=a(9772),v=a(6474),j=a(8497),N=a(9323),b=a(6084),y=a(9203);a(5575);let k=[{name:"Trang chủ",href:"/dashboard",icon:d.A},{name:"Đơn gia hạn Visa",href:"/dashboard/visa/create",icon:h.A,permission:"visa:create"},{name:"Đơn của t\xf4i",href:"/dashboard/visa/my-applications",icon:m.A,permission:"visa:read"},{name:"T\xe0i liệu hướng dẫn",href:"/dashboard/student/guide",icon:x.A},{name:"Lịch hẹn",href:"/dashboard/student/appointments",icon:o.A}];function w(e){var s,a;let{children:i}=e,[d,h]=(0,t.useState)(!1),[m,x]=(0,t.useState)(!1),o=(0,r.usePathname)(),w=(0,r.useRouter)(),{userRole:A,hasPermission:C}=(0,j.S)(),z=(0,t.useRef)(null);(0,t.useEffect)(()=>{A&&A!==j.g.STUDENT&&w.push("/dashboard")},[A,w]),(0,t.useEffect)(()=>{function e(e){z.current&&!z.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let M=k.filter(e=>!e.permission||C(e.permission));return A!==j.g.STUDENT?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("p",{children:"Đang chuyển hướng..."})]})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden ".concat(d?"block":"hidden"),children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:()=>h(!1)}),(0,n.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-lg",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-green-700",children:"\uD83C\uDF93 Cổng th\xf4ng tin sinh vi\xean"}),(0,n.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:(0,n.jsx)(g.A,{className:"h-4 w-4"})})]}),(0,n.jsx)("nav",{className:"p-4",children:(0,n.jsx)("ul",{className:"space-y-2",children:M.map(e=>{let s=e.icon;return(0,n.jsx)("li",{children:(0,n.jsxs)(l(),{href:e.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(o===e.href?"bg-green-100 text-green-700":"text-gray-700 hover:bg-gray-100"),onClick:()=>h(!1),children:[(0,n.jsx)(s,{className:"h-4 w-4"}),e.name]})},e.name)})})})]})]}),(0,n.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-40 lg:w-64 lg:bg-white lg:shadow-sm lg:block",children:(0,n.jsxs)("div",{className:"flex flex-col h-full",children:[(0,n.jsxs)("div",{className:"p-6 border-b bg-green-50",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-green-700",children:"\uD83C\uDF93 Cổng th\xf4ng tin sinh vi\xean"}),(0,n.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Student Portal"})]}),(0,n.jsx)("nav",{className:"flex-1 p-4",children:(0,n.jsx)("ul",{className:"space-y-2",children:M.map(e=>{let s=e.icon;return(0,n.jsx)("li",{children:(0,n.jsxs)(l(),{href:e.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(o===e.href?"bg-green-100 text-green-700":"text-gray-700 hover:bg-gray-100"),children:[(0,n.jsx)(s,{className:"h-4 w-4"}),e.name]})},e.name)})})}),(0,n.jsxs)("div",{className:"p-4 border-t",children:[(0,n.jsxs)("div",{className:"mb-3 px-3 py-2 bg-green-50 rounded-lg",children:[(0,n.jsx)("p",{className:"text-xs text-green-600 mb-1",children:"Đăng nhập với vai tr\xf2:"}),(0,n.jsx)("p",{className:"text-sm font-medium text-green-700",children:"Sinh vi\xean quốc tế"})]}),(0,n.jsx)(b.z,{variant:"outline",fullWidth:!0})]})]})}),(0,n.jsxs)("div",{className:"lg:pl-64",children:[(0,n.jsx)("div",{className:"sticky top-0 z-30 bg-white border-b px-4 py-3 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(c.$,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>h(!0),children:(0,n.jsx)(u.A,{className:"h-4 w-4"})}),(0,n.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:(null==(s=M.find(e=>e.href===o))?void 0:s.name)||"Trang chủ"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,n.jsx)(p.A,{className:"h-4 w-4"})}),(0,n.jsxs)("div",{className:"relative",ref:z,children:[(0,n.jsxs)(c.$,{variant:"ghost",size:"sm",className:"flex items-center gap-2",onClick:()=>x(!m),children:[(0,n.jsx)(f.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"hidden sm:block text-sm font-medium",children:(null==(a=N._.getUser())?void 0:a.name)||"Sinh vi\xean"}),(0,n.jsx)(v.A,{className:"h-3 w-3"})]}),m&&(0,n.jsx)("div",{className:"absolute right-0 mt-2 z-50",children:(0,n.jsx)(y.J,{onClose:()=>x(!1)})})]})]})]})}),(0,n.jsx)("main",{className:"flex-1",children:i})]}),!1]})}},9074:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(9946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{e.O(0,[3464,3455,6874,5529,4482,8441,5964,7358],()=>e(e.s=2440)),_N_E=e.O()}]);