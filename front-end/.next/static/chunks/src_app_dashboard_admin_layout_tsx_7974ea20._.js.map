{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///F:/pbl6_ql_htqt/front-end/src/app/dashboard/admin/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  Users,\r\n  Shield,\r\n  Settings,\r\n  BarChart3,\r\n  FileText,\r\n  Menu,\r\n  X,\r\n  LogOut,\r\n  UserCircle\r\n} from 'lucide-react';\r\nimport { useState, useEffect } from 'react';\r\nimport { usePermissions } from '@/hooks/usePermissions';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { authHelpers } from '@/lib/auth';\r\n\r\nconst adminNavItems = [\r\n  {\r\n    title: 'Dashboard',\r\n    href: '/dashboard/admin',\r\n    icon: BarChart3,\r\n  },\r\n  {\r\n    title: 'Quản lý người dùng',\r\n    href: '/dashboard/admin/users',\r\n    icon: Users,\r\n  },\r\n  {\r\n    title: 'Phân quyền',\r\n    href: '/dashboard/admin/roles',\r\n    icon: Shield,\r\n  },\r\n  {\r\n    title: 'Quản lý hệ thống',\r\n    href: '/dashboard/admin/system',\r\n    icon: Settings,\r\n  },\r\n  {\r\n    title: 'Báo cáo',\r\n    href: '/dashboard/admin/reports',\r\n    icon: FileText,\r\n  },\r\n];\r\n\r\nexport default function AdminLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const pathname = usePathname();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const { isAdmin } = usePermissions();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!isAdmin) {\r\n      router.push('/dashboard');\r\n    }\r\n  }, [isAdmin, router]);\r\n\r\n  const handleLogout = () => {\r\n    authHelpers.logout();\r\n    router.push('/login');\r\n  };\r\n\r\n  if (!isAdmin) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-red-600\">Không có quyền truy cập</h2>\r\n          <p className=\"text-muted-foreground mt-2\">Bạn không có quyền truy cập khu vực admin.</p>\r\n          <Button className=\"mt-4\" onClick={() => router.push('/dashboard')}>\r\n            Quay lại Dashboard\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-50\">\r\n      {/* Mobile sidebar overlay */}\r\n      {sidebarOpen && (\r\n        <div\r\n          className=\"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden\"\r\n          onClick={() => setSidebarOpen(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <div className={cn(\r\n        \"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0\",\r\n        sidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"\r\n      )}>\r\n        <div className=\"flex flex-col h-full\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between h-16 px-6 border-b bg-blue-600 text-white\">\r\n            <h2 className=\"text-xl font-semibold\">Admin Panel</h2>\r\n            <button\r\n              onClick={() => setSidebarOpen(false)}\r\n              className=\"lg:hidden p-2 rounded-md text-blue-100 hover:text-white\"\r\n            >\r\n              <X className=\"h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Navigation */}\r\n          <nav className=\"flex-1 py-6 px-3\">\r\n            <ul className=\"space-y-2\">\r\n              {adminNavItems.map((item) => {\r\n                const Icon = item.icon;\r\n                const isActive = pathname === item.href;\r\n                \r\n                return (\r\n                  <li key={item.href}>\r\n                    <Link\r\n                      href={item.href}\r\n                      className={cn(\r\n                        \"flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors\",\r\n                        isActive\r\n                          ? \"bg-blue-100 text-blue-700 border-r-2 border-blue-500\"\r\n                          : \"text-gray-700 hover:bg-gray-100\"\r\n                      )}\r\n                      onClick={() => setSidebarOpen(false)}\r\n                    >\r\n                      <Icon className=\"mr-3 h-5 w-5\" />\r\n                      {item.title}\r\n                    </Link>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </nav>\r\n\r\n          {/* User info and logout */}\r\n          <div className=\"p-4 border-t bg-gray-50\">\r\n            <div className=\"flex items-center mb-3 p-2 bg-white rounded-lg\">\r\n              <UserCircle className=\"h-8 w-8 text-gray-400 mr-3\" />\r\n              <div className=\"flex-1\">\r\n                <p className=\"text-sm font-medium text-gray-900\">\r\n                  {authHelpers.getUser()?.name || 'Admin'}\r\n                </p>\r\n                <p className=\"text-xs text-gray-500\">Quản trị viên</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Button \r\n                variant=\"outline\" \r\n                size=\"sm\" \r\n                className=\"w-full justify-start\"\r\n                onClick={() => router.push('/dashboard')}\r\n              >\r\n                <BarChart3 className=\"h-4 w-4 mr-2\" />\r\n                Dashboard chính\r\n              </Button>\r\n              <Button \r\n                variant=\"outline\" \r\n                size=\"sm\" \r\n                className=\"w-full justify-start text-red-600 hover:text-red-700\"\r\n                onClick={handleLogout}\r\n              >\r\n                <LogOut className=\"h-4 w-4 mr-2\" />\r\n                Đăng xuất\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        {/* Header */}\r\n        <header className=\"bg-white shadow-sm border-b h-16 flex items-center px-6 lg:px-8\">\r\n          <button\r\n            onClick={() => setSidebarOpen(true)}\r\n            className=\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 mr-4\"\r\n          >\r\n            <Menu className=\"h-5 w-5\" />\r\n          </button>\r\n          <div className=\"flex-1\">\r\n            <h1 className=\"text-2xl font-semibold text-gray-900\">\r\n              {adminNavItems.find(item => item.href === pathname)?.title || 'Admin Panel'}\r\n            </h1>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <span className=\"text-sm text-gray-500\">\r\n              {new Date().toLocaleDateString('vi-VN')}\r\n            </span>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Main content area */}\r\n        <main className=\"flex-1 overflow-auto bg-gray-50 p-6 lg:p-8\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}